FROM eclipse-temurin:17-jre-alpine

# Metadata 
LABEL app="java-web-app"
LABEL runtime="spring-boot"

# App directory
WORKDIR /app

# Expose Spring Boot port
EXPOSE 8080

# Copy the already-built jar from Jenkins workspace
COPY target/*.jar app.jar

# JVM flags safe for containers
ENTRYPOINT ["java", "-XX:+UseContainerSupport", "-jar", "app.jar"]
